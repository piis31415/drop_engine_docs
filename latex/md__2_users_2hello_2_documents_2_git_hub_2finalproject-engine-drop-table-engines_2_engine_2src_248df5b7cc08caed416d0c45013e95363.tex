\chapter{pump}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363}\index{pump@{pump}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8941}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8941}%


pump is a small node module that pipes streams together and destroys all of them if one of them closes.


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ pump}

\end{DoxyCode}


\href{http://travis-ci.org/mafintosh/pump}{\texttt{ }}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8942}{}\doxysection{\texorpdfstring{What problem does it solve?}{What problem does it solve?}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8942}
When using standard {\ttfamily source.\+pipe(dest)} source will {\itshape not} be destroyed if dest emits close or an error. You are also not able to provide a callback to tell when then pipe has finished.

pump does these two things for you\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8943}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8943}
Simply pass the streams you want to pipe together to pump and add an optional callback


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ pump\ =\ require('pump')}
\DoxyCodeLine{var\ fs\ =\ require('fs')}
\DoxyCodeLine{}
\DoxyCodeLine{var\ source\ =\ fs.createReadStream('/dev/random')}
\DoxyCodeLine{var\ dest\ =\ fs.createWriteStream('/dev/null')}
\DoxyCodeLine{}
\DoxyCodeLine{pump(source,\ dest,\ function(err)\ \{}
\DoxyCodeLine{\ \ console.log('pipe\ finished',\ err)}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{setTimeout(function()\ \{}
\DoxyCodeLine{\ \ dest.destroy()\ //\ when\ dest\ is\ closed\ pump\ will\ destroy\ source}
\DoxyCodeLine{\},\ 1000)}

\end{DoxyCode}


You can use pump to pipe more than two streams together as well


\begin{DoxyCode}{0}
\DoxyCodeLine{\ js}
\DoxyCodeLine{var\ transform\ =\ someTransformStream()}
\DoxyCodeLine{}
\DoxyCodeLine{pump(source,\ transform,\ anotherTransform,\ dest,\ function(err)\ \{}
\DoxyCodeLine{\ \ console.log('pipe\ finished',\ err)}
\DoxyCodeLine{\})}

\end{DoxyCode}


If {\ttfamily source}, {\ttfamily transform}, {\ttfamily another\+Transform} or {\ttfamily dest} closes all of them will be destroyed.

Similarly to {\ttfamily stream.\+pipe()}, {\ttfamily pump()} returns the last stream passed in, so you can do\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{return\ pump(s1,\ s2)\ //\ returns\ s2}

\end{DoxyCode}


Note that {\ttfamily pump} attaches error handlers to the streams to do internal error handling, so if {\ttfamily s2} emits an error in the above scenario, it will not trigger a `proccess.\+on(\textquotesingle{}uncaught\+Exception')\`{} if you do not listen for it.

If you want to return a stream that combines {\itshape both} s1 and s2 to a single stream use \href{https://github.com/mafintosh/pumpify}{\texttt{ pumpify}} instead.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8944}{}\doxysection{\texorpdfstring{License}{License}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8944}
MIT\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8945}{}\doxysection{\texorpdfstring{Related}{Related}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8945}
{\ttfamily pump} is part of the \href{https://github.com/maxogden/mississippi}{\texttt{ mississippi stream utility collection}} which includes more useful stream modules similar to this one.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8946}{}\doxysection{\texorpdfstring{For enterprise}{For enterprise}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_248df5b7cc08caed416d0c45013e95363_autotoc_md8946}
Available as part of the Tidelift Subscription.

The maintainers of pump and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. \href{https://tidelift.com/subscription/pkg/npm-pump?utm_source=npm-pump&utm_medium=referral&utm_campaign=enterprise}{\texttt{ Learn more.}} 