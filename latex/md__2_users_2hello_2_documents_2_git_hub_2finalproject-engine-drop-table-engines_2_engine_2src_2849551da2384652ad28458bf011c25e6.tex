\chapter{http-\/timer}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6}\index{http-\/timer@{http-\/timer}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1447}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1447}%


\begin{quote}
Timings for HTTP requests \end{quote}
\href{https://travis-ci.org/szmarczak/http-timer}{\texttt{ }} \href{https://coveralls.io/github/szmarczak/http-timer?branch=master}{\texttt{ }} \href{https://packagephobia.now.sh/result?p=@szmarczak/http-timer}{\texttt{ }}

Inspired by the \href{https://github.com/request/request}{\texttt{ {\ttfamily request} package}}.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1448}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1448}
NPM\+:

\begin{quote}
{\ttfamily npm install @szmarczak/http-\/timer} \end{quote}
Yarn\+:

\begin{quote}
{\ttfamily yarn add @szmarczak/http-\/timer} \end{quote}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1449}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1449}
{\bfseries{Note\+:}} \begin{quote}
-\/ The measured events resemble Node.\+js events, not the kernel ones.
\begin{DoxyItemize}
\item Sending a chunk greater than \href{https://nodejs.org/api/stream.html\#stream_new_stream_writable_options}{\texttt{ {\ttfamily high\+Water\+Mark}}} will result in invalid {\ttfamily upload} and {\ttfamily response} timings. You can avoid this by splitting the payload into smaller chunks. 
\end{DoxyItemize}\end{quote}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ https\ =\ require('https');}
\DoxyCodeLine{const\ timer\ =\ require('@szmarczak/http-\/timer');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ request\ =\ https.get('https://httpbin.org/anything');}
\DoxyCodeLine{timer(request);}
\DoxyCodeLine{}
\DoxyCodeLine{request.once('response',\ response\ =>\ \{}
\DoxyCodeLine{\ \ \ \ response.resume();}
\DoxyCodeLine{\ \ \ \ response.once('end',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log(response.timings);\ //\ You\ can\ use\ \`{}request.timings`\ as\ well}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ \{}
\DoxyCodeLine{//\ \ \ start:\ 1572712180361,}
\DoxyCodeLine{//\ \ \ socket:\ 1572712180362,}
\DoxyCodeLine{//\ \ \ lookup:\ 1572712180415,}
\DoxyCodeLine{//\ \ \ connect:\ 1572712180571,}
\DoxyCodeLine{//\ \ \ upload:\ 1572712180884,}
\DoxyCodeLine{//\ \ \ response:\ 1572712181037,}
\DoxyCodeLine{//\ \ \ end:\ 1572712181039,}
\DoxyCodeLine{//\ \ \ error:\ undefined,}
\DoxyCodeLine{//\ \ \ abort:\ undefined,}
\DoxyCodeLine{//\ \ \ phases:\ \{}
\DoxyCodeLine{//\ \ \ \ \ wait:\ 1,}
\DoxyCodeLine{//\ \ \ \ \ dns:\ 53,}
\DoxyCodeLine{//\ \ \ \ \ tcp:\ 156,}
\DoxyCodeLine{//\ \ \ \ \ request:\ 313,}
\DoxyCodeLine{//\ \ \ \ \ firstByte:\ 153,}
\DoxyCodeLine{//\ \ \ \ \ download:\ 2,}
\DoxyCodeLine{//\ \ \ \ \ total:\ 678}
\DoxyCodeLine{//\ \ \ \}}
\DoxyCodeLine{//\ \}}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1450}{}\doxysection{\texorpdfstring{API}{API}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1450}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1451}{}\doxysubsection{\texorpdfstring{timer(request)}{timer(request)}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1451}
Returns\+: {\ttfamily Object}

{\bfseries{Note}}\+: The time is a {\ttfamily number} representing the milliseconds elapsed since the UNIX epoch.


\begin{DoxyItemize}
\item {\ttfamily start} -\/ Time when the request started.
\item {\ttfamily socket} -\/ Time when a socket was assigned to the request.
\item {\ttfamily lookup} -\/ Time when the DNS lookup finished.
\item {\ttfamily connect} -\/ Time when the socket successfully connected.
\item {\ttfamily secure\+Connect} -\/ Time when the socket securely connected.
\item {\ttfamily upload} -\/ Time when the request finished uploading.
\item {\ttfamily response} -\/ Time when the request fired {\ttfamily response} event.
\item {\ttfamily end} -\/ Time when the response fired {\ttfamily end} event.
\item {\ttfamily error} -\/ Time when the request fired {\ttfamily error} event.
\item {\ttfamily abort} -\/ Time when the request fired {\ttfamily abort} event.
\item {\ttfamily phases}
\begin{DoxyItemize}
\item {\ttfamily wait} -\/ {\ttfamily timings.\+socket -\/ timings.\+start}
\item {\ttfamily dns} -\/ {\ttfamily timings.\+lookup -\/ timings.\+socket}
\item {\ttfamily tcp} -\/ {\ttfamily timings.\+connect -\/ timings.\+lookup}
\item {\ttfamily tls} -\/ {\ttfamily timings.\+secure\+Connect -\/ timings.\+connect}
\item {\ttfamily request} -\/ {\ttfamily timings.\+upload -\/ (timings.\+secure\+Connect \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} timings.\+connect)}
\item {\ttfamily first\+Byte} -\/ {\ttfamily timings.\+response -\/ timings.\+upload}
\item {\ttfamily download} -\/ {\ttfamily timings.\+end -\/ timings.\+response}
\item {\ttfamily total} -\/ {\ttfamily (timings.\+end \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} timings.\+error \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} timings.\+abort) -\/ timings.\+start}
\end{DoxyItemize}
\end{DoxyItemize}

If something has not been measured yet, it will be {\ttfamily undefined}.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1452}{}\doxysection{\texorpdfstring{License}{License}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2849551da2384652ad28458bf011c25e6_autotoc_md1452}
MIT 