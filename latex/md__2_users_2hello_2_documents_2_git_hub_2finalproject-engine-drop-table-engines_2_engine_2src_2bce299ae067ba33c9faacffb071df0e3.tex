\chapter{sanitize-\/filename \texorpdfstring{$<$}{<}a href="{}http\+://travis-\/ci.\+org/parshap/node-\/sanitize-\/filename"{} \texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}img src="{}https\+://secure.\+travis-\/ci.\+org/parshap/node-\/sanitize-\/filename.\+svg?branch=master"{} alt="{}build status"{}/\texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}/a\texorpdfstring{$>$}{>}}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3}\index{sanitize-\/filename $<$a href="{}http://travis-\/ci.org/parshap/node-\/sanitize-\/filename"{} $>$$<$img src="{}https://secure.travis-\/ci.org/parshap/node-\/sanitize-\/filename.svg?branch=master"{} alt="{}build status"{}/$>$$<$/a$>$@{sanitize-\/filename $<$a href=""http://travis-\/ci.org/parshap/node-\/sanitize-\/filename"" $>$$<$img src=""https://secure.travis-\/ci.org/parshap/node-\/sanitize-\/filename.svg?branch=master"" alt=""build status""/$>$$<$/a$>$}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9366}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9366}%


Sanitize a string to be safe for use as a filename by removing directory paths and invalid characters.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9367}{}\doxysection{\texorpdfstring{Install}{Install}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9367}
\href{https://www.npmjs.com/package/sanitize-filename}{\texttt{ npm\+: {\itshape sanitize-\/filename}}}


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ sanitize-\/filename}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9368}{}\doxysection{\texorpdfstring{Example}{Example}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9368}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ sanitize\ =\ require("{}sanitize-\/filename"{});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Some\ string\ that\ may\ be\ unsafe\ or\ invalid\ as\ a\ filename}
\DoxyCodeLine{var\ UNSAFE\_USER\_INPUT\ =\ "{}\string~/.\(\backslash\)u0000ssh/authorized\_keys"{};}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Sanitize\ the\ string\ to\ be\ safe\ for\ use\ as\ a\ filename.}
\DoxyCodeLine{var\ filename\ =\ sanitize(UNSAFE\_USER\_INPUT);}
\DoxyCodeLine{//\ -\/>\ "{}\string~.sshauthorized\_keys"{}}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9369}{}\doxysection{\texorpdfstring{Details}{Details}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2bce299ae067ba33c9faacffb071df0e3_autotoc_md9369}
{\itshape sanitize-\/filename} removes the following\+:


\begin{DoxyItemize}
\item \href{https://en.wikipedia.org/wiki/C0_and_C1_control_codes}{\texttt{ Control characters}} ({\ttfamily 0x00}–{\ttfamily 0x1f} and {\ttfamily 0x80}–{\ttfamily 0x9f})
\item \href{https://kb.acronis.com/content/39790}{\texttt{ Reserved characters}} ({\ttfamily /}, {\ttfamily ?}, {\ttfamily \texorpdfstring{$<$}{<}}, {\ttfamily \texorpdfstring{$>$}{>}}, {\ttfamily \textbackslash{}}, {\ttfamily \+:}, {\ttfamily \texorpdfstring{$\ast$}{*}}, {\ttfamily \texorpdfstring{$\vert$}{|}}, and {\ttfamily "{}$<$/tt$>$)  \texorpdfstring{$\ast$}{*} Unix reserved filenames ($<$tt$>$.$<$/tt$>$ and $<$tt$>$..$<$/tt$>$)  \texorpdfstring{$\ast$}{*} Trailing periods and spaces ($<$a href="{}\href{https://msdn.microsoft.com/en-us/library/aa365247(v=vs.85).aspx\#Naming_Conventions}{\texttt{ https\+://msdn.\+microsoft.\+com/en-\/us/library/aa365247(v=vs.\+85).\+aspx\#\+Naming\+\_\+\+Conventions}}"{} $>$for Windows$<$/a$>$)  \texorpdfstring{$\ast$}{*} Windows reserved filenames ($<$tt$>$\+CON$<$/tt$>$, $<$tt$>$\+PRN$<$/tt$>$, $<$tt$>$\+AUX$<$/tt$>$, $<$tt$>$\+NUL$<$/tt$>$, $<$tt$>$\+COM1$<$/tt$>$,    $<$tt$>$\+COM2$<$/tt$>$, $<$tt$>$\+COM3$<$/tt$>$, $<$tt$>$\+COM4$<$/tt$>$, $<$tt$>$\+COM5$<$/tt$>$, $<$tt$>$\+COM6$<$/tt$>$, $<$tt$>$\+COM7$<$/tt$>$, $<$tt$>$\+COM8$<$/tt$>$, $<$tt$>$\+COM9$<$/tt$>$,    $<$tt$>$\+LPT1$<$/tt$>$, $<$tt$>$\+LPT2$<$/tt$>$, $<$tt$>$\+LPT3$<$/tt$>$, $<$tt$>$\+LPT4$<$/tt$>$, $<$tt$>$\+LPT5$<$/tt$>$, $<$tt$>$\+LPT6$<$/tt$>$, $<$tt$>$\+LPT7$<$/tt$>$, $<$tt$>$\+LPT8$<$/tt$>$, and    $<$tt$>$\+LPT9$<$/tt$>$)      \+The resulting string is truncated to $<$a href="{}\href{http://unix.stackexchange.com/questions/32795/what-is-the-maximum-allowed-filename-and-folder-size-with-ecryptfs}{\texttt{ http\+://unix.\+stackexchange.\+com/questions/32795/what-\/is-\/the-\/maximum-\/allowed-\/filename-\/and-\/folder-\/size-\/with-\/ecryptfs}}"{} $>$255 bytes in length$<$/a$>$. The string will not contain any directory paths and will be safe to use as a filename.    @subsection autotoc\+\_\+md9370 Empty String $<$tt$>$"{}"{}$<$/tt$>$ Result  \+An empty string $<$tt$>$"{}"{}$<$/tt$>$ can be returned. For example\+:  @icode\{js\}  var sanitize = require("{}sanitize-\/filename"{}); sanitize("{}.."{}) // -\/$>$ "{}"{}  @endicode   @subsection autotoc\+\_\+md9371 Non-\/unique Filenames  \+Two different inputs can return the same value. For example\+:  @icode\{js\}  var sanitize = require("{}sanitize-\/filename"{}); sanitize("{}file?"{}) // -\/$>$ "{}file"{} sanitize ("{}\texorpdfstring{$\ast$}{*}file\texorpdfstring{$\ast$}{*}"{}) // -\/$>$ "{}file"{} @endicode   @subsection autotoc\+\_\+md9372 File Systems  \+Sanitized filenames will be safe for use on modern Windows, OS X, and \+Unix file systems ($<$tt$>$\+NTFS$<$/tt$>$, $<$tt$>$ext$<$/tt$>$, etc.).  $<$a href="{}\href{https://en.wikipedia.org/wiki/8.3_filename}{\texttt{ https\+://en.\+wikipedia.\+org/wiki/8.\+3\+\_\+filename}}"{} $>$$<$tt$>$\+FAT$<$/tt$>$ 8.\+3 filenames$<$/a$>$ are not supported.    @subsubsection autotoc\+\_\+md9373 Test Your File System  \+The test program will use various strings (including the $<$a href="{}\href{https://github.com/minimaxir/big-list-of-naughty-strings}{\texttt{ https\+://github.\+com/minimaxir/big-\/list-\/of-\/naughty-\/strings}}"{}  $>$\+Big List of Naughty Strings$<$/a$>$) to create files in the working directory. Run $<$tt$>$npm test$<$/tt$>$ to run tests against your file system.    @section autotoc\+\_\+md9374 API  @subsection autotoc\+\_\+md9375 $<$tt$>$sanitize(input\+String, \mbox{[}options\mbox{]})$<$/tt$>$  \+Sanitize $<$tt$>$input\+String$<$/tt$>$ by removing or replacing invalid characters.  \+Options\+:   \texorpdfstring{$\ast$}{*} $<$tt$>$options.\+replacement$<$/tt$>$\+: $<$em$>$optional, string/function, default\+: $<$tt$>$"{}"{}$<$/tt$>$$<$/em$>$. If passed  as a string, it\textquotesingle{}s used as the replacement for invalid characters. If passed as  a function, the function will be called with the invalid characters and it\textquotesingle{}s  return value will be used as the replacement. See $<$a href="{}\href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace}{\texttt{ https\+://developer.\+mozilla.\+org/en-\/\+US/docs/\+Web/\+Java\+Script/\+Reference/\+Global\+\_\+\+Objects/\+String/replace}}"{} \texorpdfstring{$>$}{>}{\ttfamily String.\+prototype.\+replace} for more info. }
\end{DoxyItemize}