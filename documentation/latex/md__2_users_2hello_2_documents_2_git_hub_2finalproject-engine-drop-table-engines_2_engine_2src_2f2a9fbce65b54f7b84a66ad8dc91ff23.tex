\chapter{Async\+Context}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23}\index{AsyncContext@{AsyncContext}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7621}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7621}%


The \doxysectlink{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2e975c9e39ecf1ae2860f6ca1ec11e877}{Napi\+::Async\+Worker}{0} class may not be appropriate for every scenario. When using any other async mechanism, introducing a new class {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}} is necessary to ensure an async operation is properly tracked by the runtime. The {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}} class can be passed to \doxysectlink{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26fc3837f8c0f1284160c3afbc00a86e7}{Napi\+::Function\+::Make\+Callback()}{0} method to properly restore the correct async execution context.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7622}{}\doxysection{\texorpdfstring{Methods}{Methods}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7622}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7623}{}\doxysubsection{\texorpdfstring{Constructor}{Constructor}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7623}
Creates a new {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{explicit}\ Napi::AsyncContext::AsyncContext(\mbox{\hyperlink{structnapi__env____}{napi\_env}}\ env,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ resource\_name);}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\ttfamily \mbox{[}in\mbox{]} env}\+: The environment in which to create the {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}}.
\item {\ttfamily \mbox{[}in\mbox{]} resource\+\_\+name}\+: Null-\/terminated strings that represents the identifier for the kind of resource that is being provided for diagnostic information exposed by the {\ttfamily async\+\_\+hooks} API.
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7624}{}\doxysubsection{\texorpdfstring{Constructor}{Constructor}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7624}
Creates a new {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{explicit}\ Napi::AsyncContext::AsyncContext(\mbox{\hyperlink{structnapi__env____}{napi\_env}}\ env,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ resource\_name,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\&\ resource);}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\ttfamily \mbox{[}in\mbox{]} env}\+: The environment in which to create the {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}}.
\item {\ttfamily \mbox{[}in\mbox{]} resource\+\_\+name}\+: Null-\/terminated strings that represents the identifier for the kind of resource that is being provided for diagnostic information exposed by the {\ttfamily async\+\_\+hooks} API.
\item {\ttfamily \mbox{[}in\mbox{]} resource}\+: Object associated with the asynchronous operation that will be passed to possible {\ttfamily async\+\_\+hooks}.
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7625}{}\doxysubsection{\texorpdfstring{Destructor}{Destructor}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7625}
The {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}} to be destroyed.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{virtual}\ Napi::AsyncContext::\string~AsyncContext();}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7626}{}\doxysection{\texorpdfstring{Operator}{Operator}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7626}

\begin{DoxyCode}{0}
\DoxyCodeLine{Napi::AsyncContext::operator\ napi\_async\_context()\ \textcolor{keyword}{const};}

\end{DoxyCode}


Returns the N-\/\+API {\ttfamily napi\+\_\+async\+\_\+context} wrapped by the {\ttfamily \doxylink{class_napi_1_1_async_context}{Napi\+::\+Async\+Context}} object. This can be used to mix usage of the C N-\/\+API and node-\/addon-\/api.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7627}{}\doxysection{\texorpdfstring{Example}{Example}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_2f2a9fbce65b54f7b84a66ad8dc91ff23_autotoc_md7627}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}napi.h"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ MakeCallbackWithAsyncContext(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_callback_info}{Napi::CallbackInfo}}\&\ info)\ \{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{class_napi_1_1_function}{Napi::Function}}\ callback\ =\ info[0].As<\mbox{\hyperlink{class_napi_1_1_function}{Napi::Function}}>();}
\DoxyCodeLine{\ \ \mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\ resource\ =\ info[1].As<\mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}>();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ Creat\ a\ new\ async\ context\ instance.}}
\DoxyCodeLine{\ \ \mbox{\hyperlink{class_napi_1_1_async_context}{Napi::AsyncContext}}\ context(info.Env(),\ \textcolor{stringliteral}{"{}async\_context\_test"{}},\ resource);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ Invoke\ the\ callback\ with\ the\ async\ context\ instance.}}
\DoxyCodeLine{\ \ callback.MakeCallback(\mbox{\hyperlink{class_napi_1_1_object_aa92b5f3a7c5b1735312133993d6d1a9b}{Napi::Object::New}}(info.Env()),}
\DoxyCodeLine{\ \ \ \ \ \ std::initializer\_list<napi\_value>\{\},\ context);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ The\ async\ context\ instance\ is\ automatically\ destroyed\ here\ because\ it's}}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ block-\/scope\ like\ \`{}Napi::HandleScope`.}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 