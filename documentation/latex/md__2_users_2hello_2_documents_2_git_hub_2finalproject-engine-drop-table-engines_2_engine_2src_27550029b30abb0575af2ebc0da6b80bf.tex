\chapter{https-\/proxy-\/agent}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf}\index{https-\/proxy-\/agent@{https-\/proxy-\/agent}}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5881}{}\doxysubsection{\texorpdfstring{An HTTP(s) proxy {\ttfamily http.\+Agent} implementation for HTTPS}{An HTTP(s) proxy {\ttfamily http.\+Agent} implementation for HTTPS}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5881}
This module provides an {\ttfamily http.\+Agent} implementation that connects to a specified HTTP or HTTPS proxy server, and can be used with the built-\/in {\ttfamily https} module.

Specifically, this {\ttfamily Agent} implementation connects to an intermediary "{}proxy"{} server and issues the \href{http://en.wikipedia.org/wiki/HTTP_tunnel\#HTTP_CONNECT_Tunneling}{\texttt{ CONNECT HTTP method}}, which tells the proxy to open a direct TCP connection to the destination server.

Since this agent implements the CONNECT HTTP method, it also works with other protocols that use this method when connecting over proxies (i.\+e. Web\+Sockets). See the "{}\+Examples"{} section below for more.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5882}{}\doxysection{\texorpdfstring{Examples}{Examples}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5882}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5883}{}\doxysubsubsection{\texorpdfstring{{\ttfamily https} module example}{{\ttfamily https} module example}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5883}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ *\ as\ https\ from\ 'https';}
\DoxyCodeLine{import\ \{\ HttpsProxyAgent\ \}\ from\ 'https-\/proxy-\/agent';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ agent\ =\ new\ HttpsProxyAgent('http://168.63.76.32:3128');}
\DoxyCodeLine{}
\DoxyCodeLine{https.get('https://example.com',\ \{\ agent\ \},\ (res)\ =>\ \{}
\DoxyCodeLine{\ \ console.log('"{}response"{}\ event!',\ res.headers);}
\DoxyCodeLine{\ \ res.pipe(process.stdout);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5884}{}\doxysubsubsection{\texorpdfstring{{\ttfamily ws} Web\+Socket connection example}{{\ttfamily ws} Web\+Socket connection example}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5884}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ WebSocket\ from\ 'ws';}
\DoxyCodeLine{import\ \{\ HttpsProxyAgent\ \}\ from\ 'https-\/proxy-\/agent';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ agent\ =\ new\ HttpsProxyAgent('http://168.63.76.32:3128');}
\DoxyCodeLine{const\ socket\ =\ new\ WebSocket('ws://echo.websocket.org',\ \{\ agent\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{socket.on('open',\ function\ ()\ \{}
\DoxyCodeLine{\ \ console.log('"{}open"{}\ event!');}
\DoxyCodeLine{\ \ socket.send('hello\ world');}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{socket.on('message',\ function\ (data,\ flags)\ \{}
\DoxyCodeLine{\ \ console.log('"{}message"{}\ event!\ \%j\ \%j',\ data,\ flags);}
\DoxyCodeLine{\ \ socket.close();}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5885}{}\doxysection{\texorpdfstring{API}{API}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5885}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5886}{}\doxysubsection{\texorpdfstring{new Https\+Proxy\+Agent(proxy\+: string \texorpdfstring{$\vert$}{|} URL, options?\+: Https\+Proxy\+Agent\+Options)}{new Https\+Proxy\+Agent(proxy\+: string \texorpdfstring{$\vert$}{|} URL, options?\+: Https\+Proxy\+Agent\+Options)}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_27550029b30abb0575af2ebc0da6b80bf_autotoc_md5886}
The {\ttfamily Https\+Proxy\+Agent} class implements an {\ttfamily http.\+Agent} subclass that connects to the specified "{}\+HTTP(s) proxy server"{} in order to proxy HTTPS and/or Web\+Socket requests. This is achieved by using the \href{http://en.wikipedia.org/wiki/HTTP_tunnel\#HTTP_CONNECT_Tunneling}{\texttt{ HTTP {\ttfamily CONNECT} method}}.

The {\ttfamily proxy} argument is the URL for the proxy server.

The {\ttfamily options} argument accepts the usual {\ttfamily http.\+Agent} constructor options, and some additional properties\+:


\begin{DoxyItemize}
\item {\ttfamily headers} -\/ Object containing additional headers to send to the proxy server in the {\ttfamily CONNECT} request. 
\end{DoxyItemize}