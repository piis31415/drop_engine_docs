\chapter{is\+Binary\+File}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8}\index{isBinaryFile@{isBinaryFile}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md458}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md458}%


Detects if a file is binary in Node.\+js using ✨promises✨. Similar to \href{http://stackoverflow.com/questions/899206/how-does-perl-know-a-file-is-binary}{\texttt{ Perl\textquotesingle{}s {\ttfamily -\/B} switch}}, in that\+:
\begin{DoxyItemize}
\item it reads the first few thousand bytes of a file
\item checks for a {\ttfamily null} byte; if it\textquotesingle{}s found, it\textquotesingle{}s binary
\item flags non-\/\+ASCII characters. After a certain number of "{}weird"{} characters, the file is flagged as binary
\end{DoxyItemize}

Much of the logic is pretty much ported from \href{https://github.com/ggreer/the_silver_searcher}{\texttt{ ag}}.

Note\+: if the file doesn\textquotesingle{}t exist or is a directory, an error is thrown.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md459}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md459}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ isbinaryfile}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md460}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md460}
Returns {\ttfamily Promise\texorpdfstring{$<$}{<}boolean\texorpdfstring{$>$}{>}} (or just {\ttfamily boolean} for {\ttfamily \texorpdfstring{$\ast$}{*}\+Sync}). {\ttfamily true} if the file is binary, {\ttfamily false} otherwise.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md461}{}\doxysubsection{\texorpdfstring{is\+Binary\+File(filepath)}{is\+Binary\+File(filepath)}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md461}

\begin{DoxyItemize}
\item {\ttfamily filepath} -\/ a {\ttfamily string} indicating the path to the file.
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md462}{}\doxysubsection{\texorpdfstring{is\+Binary\+File(bytes\mbox{[}, size\mbox{]})}{is\+Binary\+File(bytes\mbox{[}, size\mbox{]})}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md462}

\begin{DoxyItemize}
\item {\ttfamily bytes} -\/ a {\ttfamily Buffer} of the file\textquotesingle{}s contents.
\item {\ttfamily size} -\/ an optional {\ttfamily number} indicating the file size.
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md463}{}\doxysubsection{\texorpdfstring{is\+Binary\+File\+Sync(filepath)}{is\+Binary\+File\+Sync(filepath)}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md463}

\begin{DoxyItemize}
\item {\ttfamily filepath} -\/ a {\ttfamily string} indicating the path to the file.
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md464}{}\doxysubsection{\texorpdfstring{is\+Binary\+File\+Sync(bytes\mbox{[}, size\mbox{]})}{is\+Binary\+File\+Sync(bytes\mbox{[}, size\mbox{]})}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md464}

\begin{DoxyItemize}
\item {\ttfamily bytes} -\/ a {\ttfamily Buffer} of the file\textquotesingle{}s contents.
\item {\ttfamily size} -\/ an optional {\ttfamily number} indicating the file size.
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md465}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md465}
Here\textquotesingle{}s an arbitrary usage\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ isBinaryFile\ =\ require("{}isbinaryfile"{}).isBinaryFile;}
\DoxyCodeLine{const\ fs\ =\ require("{}fs"{});}
\DoxyCodeLine{}
\DoxyCodeLine{const\ filename\ =\ "{}fixtures/pdf.pdf"{};}
\DoxyCodeLine{const\ data\ =\ fs.readFileSync(filename);}
\DoxyCodeLine{const\ stat\ =\ fs.lstatSync(filename);}
\DoxyCodeLine{}
\DoxyCodeLine{isBinaryFile(data,\ stat.size).then((result)\ =>\ \{}
\DoxyCodeLine{\ \ if\ (result)\ \{}
\DoxyCodeLine{\ \ \ \ console.log("{}It\ is\ binary!"{})}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ else\ \{}
\DoxyCodeLine{\ \ \ \ console.log("{}No\ it\ is\ not."{})}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{const\ isBinaryFileSync\ =\ require("{}isbinaryfile"{}).isBinaryFileSync;}
\DoxyCodeLine{const\ bytes\ =\ fs.readFileSync(filename);}
\DoxyCodeLine{const\ size\ =\ fs.lstatSync(filename).size;}
\DoxyCodeLine{console.log(isBinaryFileSync(bytes,\ size));\ //\ true\ or\ false}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md466}{}\doxysection{\texorpdfstring{Testing}{Testing}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28f21cf0889dedbce81c2992d3d7ec3a8_autotoc_md466}
Run {\ttfamily npm install}, then run {\ttfamily npm test}. 