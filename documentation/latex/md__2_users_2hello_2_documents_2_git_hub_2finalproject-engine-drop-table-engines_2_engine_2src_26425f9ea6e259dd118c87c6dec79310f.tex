\chapter{Graphemer\+: Unicode Character Splitter ğŸª“}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f}\index{Graphemer: Unicode Character Splitter ğŸª“@{Graphemer: Unicode Character Splitter ğŸª“}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5710}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5710}%
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5711}{}\doxysection{\texorpdfstring{Introduction}{Introduction}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5711}
This library continues the work of \href{https://github.com/orling/grapheme-splitter}{\texttt{ Grapheme Splitter}} and supports the following unicode versions\+:


\begin{DoxyItemize}
\item Unicode 15 and below {\ttfamily \mbox{[}v1.\+4.\+0\mbox{]}}
\item Unicode 14 and below {\ttfamily \mbox{[}v1.\+3.\+0\mbox{]}}
\item Unicode 13 and below {\ttfamily \mbox{[}v1.\+1.\+0\mbox{]}}
\item Unicode 11 and below {\ttfamily \mbox{[}v1.\+0.\+0\mbox{]}} (Unicode 10 supported by {\ttfamily grapheme-\/splitter})
\end{DoxyItemize}

In Java\+Script there is not always a one-\/to-\/one relationship between string characters and what a user would call a separate visual "{}letter"{}. Some symbols are represented by several characters. This can cause issues when splitting strings and inadvertently cutting a multi-\/char letter in half, or when you need the actual number of letters in a string.

For example, emoji characters like "{}ğŸŒ·"{},"{}ğŸ"{},"{}ğŸ’©"{},"{}ğŸ˜œ"{} and "{}ğŸ‘"{} are represented by two Java\+Script characters each (high surrogate and low surrogate). That is,


\begin{DoxyCode}{0}
\DoxyCodeLine{'ğŸŒ·'.length\ ==\ 2;}

\end{DoxyCode}


The combined emoji are even longer\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{'ğŸ³ï¸â€ğŸŒˆ'.length\ ==\ 6;}

\end{DoxyCode}


What\textquotesingle{}s more, some languages often include combining marks -\/ characters that are used to modify the letters before them. Common examples are the German letter Ã¼ and the Spanish letter Ã±. Sometimes they can be represented alternatively both as a single character and as a letter + combining mark, with both forms equally valid\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ two\ =\ 'nÌƒ';\ //\ unnormalized\ two-\/char\ n+â—ŒÌƒ,\ i.e.\ "{}\(\backslash\)u006E\(\backslash\)u0303"{};}
\DoxyCodeLine{var\ one\ =\ 'Ã±';\ //\ normalized\ single-\/char,\ i.e.\ "{}\(\backslash\)u00F1"{}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(one\ !=\ two);\ //\ prints\ 'true'}

\end{DoxyCode}


Unicode normalization, as performed by the popular punycode.\+js library or ECMAScript 6\textquotesingle{}s String.\+normalize, can {\bfseries{sometimes}} fix those differences and turn two-\/char sequences into single characters. But it is {\bfseries{not}} enough in all cases. Some languages like Hindi make extensive use of combining marks on their letters, that have no dedicated single-\/codepoint Unicode sequences, due to the sheer number of possible combinations. For example, the Hindi word "{}à¤…à¤¨à¥à¤šà¥à¤›à¥‡à¤¦"{} is comprised of 5 letters and 3 combining marks\+:

à¤… + à¤¨ + à¥ + à¤š + à¥ + à¤› + à¥‡ + à¤¦

which is in fact just 5 user-\/perceived letters\+:

à¤… + à¤¨à¥ + à¤šà¥ + à¤›à¥‡ + à¤¦

and which Unicode normalization would not combine properly. There are also the unusual letter+combining mark combinations which have no dedicated Unicode codepoint. The string ZÍ‘Í«ÍƒÍªÌ‚Í«Ì½ÍÌ´Ì™Ì¤ÌÍ‰ÍšÌ¯ÌÌ Í\+AÍ«Í—Ì´Í¢ÌµÌœÌ°Í”\+LÍ¨Í§Í©Í˜Ì \+GÌ‘Í—ÌÌ…Í›ÍÌ´Ì»ÍˆÍÍ”Ì¹\+OÍ‚ÌŒÌŒÍ˜Ì¨ÌµÌ¹Ì»ÌÌ³ obviously has 5 separate letters, but is in fact comprised of 58 Java\+Script characters, most of which are combining marks.

Enter the {\ttfamily graphemer} library. It can be used to properly split Java\+Script strings into what a human user would call separate letters (or "{}extended grapheme clusters"{} in Unicode terminology), no matter what their internal representation is. It is an implementation on the \href{http://unicode.org/reports/tr29/\#Default_Grapheme_Cluster_Table}{\texttt{ Default Grapheme Cluster Boundary}} of \href{http://www.unicode.org/reports/tr29/}{\texttt{ UAX \#29}}.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5712}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5712}
Install {\ttfamily graphemer} using the NPM command below\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ i\ graphemer}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5713}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5713}
If you\textquotesingle{}re using \href{https://www.typescriptlang.org/}{\texttt{ Typescript}} or a compiler like \href{https://babeljs.io/}{\texttt{ Babel}} (or something like Create React App) things are pretty simple; just import, initialize and use!


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ Graphemer\ from\ 'graphemer';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ splitter\ =\ new\ Graphemer();}
\DoxyCodeLine{}
\DoxyCodeLine{//\ split\ the\ string\ to\ an\ array\ of\ grapheme\ clusters\ (one\ string\ each)}
\DoxyCodeLine{const\ graphemes\ =\ splitter.splitGraphemes(string);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ iterate\ the\ string\ to\ an\ iterable\ iterator\ of\ grapheme\ clusters\ (one\ string\ each)}
\DoxyCodeLine{const\ graphemeIterator\ =\ splitter.iterateGraphemes(string);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ or\ do\ this\ if\ you\ just\ need\ their\ number}
\DoxyCodeLine{const\ graphemeCount\ =\ splitter.countGraphemes(string);}

\end{DoxyCode}


If you\textquotesingle{}re using vanilla Node you can use the {\ttfamily require()} method.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ Graphemer\ =\ require('graphemer').default;}
\DoxyCodeLine{}
\DoxyCodeLine{const\ splitter\ =\ new\ Graphemer();}
\DoxyCodeLine{}
\DoxyCodeLine{const\ graphemes\ =\ splitter.splitGraphemes(string);}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5714}{}\doxysection{\texorpdfstring{Examples}{Examples}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5714}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ Graphemer\ from\ 'graphemer';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ splitter\ =\ new\ Graphemer();}
\DoxyCodeLine{}
\DoxyCodeLine{//\ plain\ latin\ alphabet\ -\/\ nothing\ spectacular}
\DoxyCodeLine{splitter.splitGraphemes('abcd');\ //\ returns\ ["{}a"{},\ "{}b"{},\ "{}c"{},\ "{}d"{}]}
\DoxyCodeLine{}
\DoxyCodeLine{//\ two-\/char\ emojis\ and\ six-\/char\ combined\ emoji}
\DoxyCodeLine{splitter.splitGraphemes('ğŸŒ·ğŸğŸ’©ğŸ˜œğŸ‘ğŸ³ï¸â€ğŸŒˆ');\ //\ returns\ ["{}ğŸŒ·"{},"{}ğŸ"{},"{}ğŸ’©"{},"{}ğŸ˜œ"{},"{}ğŸ‘"{},"{}ğŸ³ï¸â€ğŸŒˆ"{}]}
\DoxyCodeLine{}
\DoxyCodeLine{//\ diacritics\ as\ combining\ marks,\ 10\ JavaScript\ chars}
\DoxyCodeLine{splitter.splitGraphemes('LÌoÍ‚rÌŒeÌ§mÌ…');\ //\ returns\ ["{}LÌ"{},"{}oÍ‚"{},"{}rÌŒ"{},"{}eÌ§"{},"{}mÌ…"{}]}
\DoxyCodeLine{}
\DoxyCodeLine{//\ individual\ Korean\ characters\ (Jamo),\ 4\ JavaScript\ chars}
\DoxyCodeLine{splitter.splitGraphemes('á„ƒá…§á„‰á…°');\ //\ returns\ ["{}á„ƒá…§"{},"{}á„‰á…°"{}]}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Hindi\ text\ with\ combining\ marks,\ 8\ JavaScript\ chars}
\DoxyCodeLine{splitter.splitGraphemes('à¤…à¤¨à¥à¤šà¥à¤›à¥‡à¤¦');\ //\ returns\ ["{}à¤…"{},"{}à¤¨à¥"{},"{}à¤šà¥"{},"{}à¤›à¥‡"{},"{}à¤¦"{}]}
\DoxyCodeLine{}
\DoxyCodeLine{//\ demonic\ multiple\ combining\ marks,\ 75\ JavaScript\ chars}
\DoxyCodeLine{splitter.splitGraphemes('ZÍ‘Í«ÍƒÍªÌ‚Í«Ì½ÍÌ´Ì™Ì¤ÌÍ‰ÍšÌ¯ÌÌ ÍAÍ«Í—Ì´Í¢ÌµÌœÌ°Í”LÍ¨Í§Í©Í˜Ì GÌ‘Í—ÌÌ…Í›ÍÌ´Ì»ÍˆÍÍ”Ì¹OÍ‚ÌŒÌŒÍ˜Ì¨ÌµÌ¹Ì»ÌÌ³!Ì¿Ì‹Í¥Í¥Ì‚Í£ÌÌÌÍÍœÍ–Ì¬Ì°Ì™Ì—');\ //\ returns\ ["{}ZÍ‘Í«ÍƒÍªÌ‚Í«Ì½ÍÌ´Ì™Ì¤ÌÍ‰ÍšÌ¯ÌÌ Í"{},"{}AÍ«Í—Ì´Í¢ÌµÌœÌ°Í”"{},"{}LÍ¨Í§Í©Í˜Ì "{},"{}GÌ‘Í—ÌÌ…Í›ÍÌ´Ì»ÍˆÍÍ”Ì¹"{},"{}OÍ‚ÌŒÌŒÍ˜Ì¨ÌµÌ¹Ì»ÌÌ³"{},"{}!Ì¿Ì‹Í¥Í¥Ì‚Í£ÌÌÌÍÍœÍ–Ì¬Ì°Ì™Ì—"{}]}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5715}{}\doxysection{\texorpdfstring{Type\+Script}{Type\+Script}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5715}
Graphemer is built with Type\+Script and, of course, includes type declarations.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ Graphemer\ from\ 'graphemer';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ splitter\ =\ new\ Graphemer();}
\DoxyCodeLine{}
\DoxyCodeLine{const\ split:\ string[]\ =\ splitter.splitGraphemes('ZÍ‘Í«ÍƒÍªÌ‚Í«Ì½ÍÌ´Ì™Ì¤ÌÍ‰ÍšÌ¯ÌÌ ÍAÍ«Í—Ì´Í¢ÌµÌœÌ°Í”LÍ¨Í§Í©Í˜Ì GÌ‘Í—ÌÌ…Í›ÍÌ´Ì»ÍˆÍÍ”Ì¹OÍ‚ÌŒÌŒÍ˜Ì¨ÌµÌ¹Ì»ÌÌ³!Ì¿Ì‹Í¥Í¥Ì‚Í£ÌÌÌÍÍœÍ–Ì¬Ì°Ì™Ì—');}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5716}{}\doxysection{\texorpdfstring{Contributing}{Contributing}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5716}
See Contribution Guide.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5717}{}\doxysection{\texorpdfstring{Acknowledgements}{Acknowledgements}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_26425f9ea6e259dd118c87c6dec79310f_autotoc_md5717}
This library is a fork of the incredible work done by Orlin Georgiev and HuÃ¡ng JÃ¹nliÃ ng at \href{https://github.com/orling/grapheme-splitter}{\texttt{ https\+://github.\+com/orling/grapheme-\/splitter}}.

The original library was heavily influenced by Devon Govett\textquotesingle{}s excellent \href{https://github.com/devongovett/grapheme-breaker}{\texttt{ grapheme-\/breaker}} Coffee\+Script library. 