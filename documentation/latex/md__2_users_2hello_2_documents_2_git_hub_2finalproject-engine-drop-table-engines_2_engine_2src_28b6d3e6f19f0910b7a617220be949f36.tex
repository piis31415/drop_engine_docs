\chapter{dir-\/compare}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36}\index{dir-\/compare@{dir-\/compare}}
Node JS directory compare

{\bfseries{Starting with v3.\+0.\+0 the CLI utility moved to \href{https://www.npmjs.com/package/dir-compare-cli}{\texttt{ dir-\/compare-\/cli}}.}}

\href{https://ci.appveyor.com/project/gliviu/dir-compare}{\texttt{ }} \href{http://codecov.io/github/gliviu/dir-compare?branch=master}{\texttt{ }}


\begin{DoxyItemize}
\item Installation
\item Library
\begin{DoxyItemize}
\item Use
\item Api
\item Glob patterns
\item Symbolic links
\item Handling permission denied errors
\end{DoxyItemize}
\item Extension points
\begin{DoxyItemize}
\item File content comparators
\begin{DoxyItemize}
\item Ignore line endings and white spaces
\end{DoxyItemize}
\item Glob filter
\begin{DoxyItemize}
\item Implement .gitignore filter
\end{DoxyItemize}
\item Name comparators
\item Result builder
\end{DoxyItemize}
\item UI tools
\item Changelog
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3800}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3800}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ dir-\/compare}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3801}{}\doxysection{\texorpdfstring{Library}{Library}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3801}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3802}{}\doxysubsection{\texorpdfstring{Use}{Use}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3802}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ dircompare\ =\ require('dir-\/compare');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options\ =\ \{\ compareSize:\ true\ \};}
\DoxyCodeLine{//\ Multiple\ compare\ strategy\ can\ be\ used\ simultaneously\ -\/\ compareSize,\ compareContent,\ compareDate,\ compareSymlink.}
\DoxyCodeLine{//\ If\ one\ comparison\ fails\ for\ a\ pair\ of\ files,\ they\ are\ considered\ distinct.}
\DoxyCodeLine{const\ path1\ =\ '...';}
\DoxyCodeLine{const\ path2\ =\ '...';}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Synchronous}
\DoxyCodeLine{const\ res\ =\ dircompare.compareSync(path1,\ path2,\ options)}
\DoxyCodeLine{print(res)}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Asynchronous}
\DoxyCodeLine{dircompare.compare(path1,\ path2,\ options)}
\DoxyCodeLine{\ \ .then(res\ =>\ print(res))}
\DoxyCodeLine{\ \ .catch(error\ =>\ console.error(error));}
\DoxyCodeLine{}
\DoxyCodeLine{function\ print(result)\ \{}
\DoxyCodeLine{\ \ console.log('Directories\ are\ \%s',\ result.same\ ?\ 'identical'\ :\ 'different')}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ console.log('Statistics\ -\/\ equal\ entries:\ \%s,\ distinct\ entries:\ \%s,\ left\ only\ entries:\ \%s,\ right\ only\ entries:\ \%s,\ differences:\ \%s',}
\DoxyCodeLine{\ \ \ \ result.equal,\ result.distinct,\ result.left,\ result.right,\ result.differences)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ result.diffSet.forEach(dif\ =>\ console.log('Difference\ -\/\ path:\ \%s,\ name1:\ \%s,\ type1:\ \%s,\ name2:\ \%s,\ type2:\ \%s,\ state:\ \%s',}
\DoxyCodeLine{\ \ \ \ dif.relativePath,\ dif.name1,\ dif.type1,\ dif.name2,\ dif.type2,\ dif.state))}
\DoxyCodeLine{\}}

\end{DoxyCode}


Typescript 
\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ compare,\ compareSync,\ Options,\ Result\ \}\ from\ "{}dir-\/compare"{};}
\DoxyCodeLine{const\ path1\ =\ '...';}
\DoxyCodeLine{const\ path2\ =\ '...';}
\DoxyCodeLine{const\ options:\ Options\ =\ \{\ compareSize:\ true\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ res:\ Result\ =\ compareSync(path1,\ path2,\ options);}
\DoxyCodeLine{console.log(res)}
\DoxyCodeLine{}
\DoxyCodeLine{compare(path1,\ path2,\ options)}
\DoxyCodeLine{\ \ .then(res\ =>\ console.log(res))}
\DoxyCodeLine{\ \ .catch(error\ =>\ console.error(error));}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3803}{}\doxysubsection{\texorpdfstring{Api}{Api}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3803}

\begin{DoxyCode}{0}
\DoxyCodeLine{compare(path1:\ string,\ path2:\ string,\ options?:\ Options):\ Promise<Result>}
\DoxyCodeLine{compareSync(path1:\ string,\ path2:\ string,\ options?:\ Options):\ Result}

\end{DoxyCode}
 More details can be found in the reference documentation\+:
\begin{DoxyItemize}
\item \href{https://gliviu.github.io/dc-api/functions/compare.html}{\texttt{ compare}}
\item \href{https://gliviu.github.io/dc-api/functions/compareSync.html}{\texttt{ compare\+Sync}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html}{\texttt{ Options}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Result.html}{\texttt{ Result}}
\end{DoxyItemize}

Common options\+:
\begin{DoxyItemize}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#compareSize}{\texttt{ compare\+Size}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#compareContent}{\texttt{ compare\+Content}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#compareDate}{\texttt{ compare\+Date}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#excludeFilter}{\texttt{ exclude\+Filter}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#includeFilter}{\texttt{ include\+Filter}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#ignoreCase}{\texttt{ ignore\+Case}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#skipSubdirs}{\texttt{ skip\+Subdirs}}
\item \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#skipEmptyDirs}{\texttt{ skip\+Empty\+Dirs}}
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3804}{}\doxysubsection{\texorpdfstring{Glob patterns}{Glob patterns}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3804}
\href{https://www.npmjs.com/package/minimatch}{\texttt{ Minimatch}} patterns are used to include/exclude files to be compared.

The pattern is matched against the relative path of the entry being compared.

Following examples assume we are comparing two \href{https://github.com/gliviu/dir-compare}{\texttt{ dir-\/compare}} code bases.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ options\ =\ \{\ }
\DoxyCodeLine{\ \ excludeFilter:\ "{}.git,node\_modules"{},\ \ \ //\ \ exclude\ git\ and\ node\ modules\ directories\ \ }
\DoxyCodeLine{\ \ excludeFilter:\ "{}expected"{}\ \ \ \ \ \ \ \ \ ,\ \ \ //\ \ exclude\ '/tests/expected'\ directory\ \ }
\DoxyCodeLine{\ \ excludeFilter:\ "{}/tests/expected"{}\ \ ,\ \ \ //\ \ exclude\ '/tests/expected'\ directory\ \ }
\DoxyCodeLine{\ \ excludeFilter:\ "{}**/expected"{}\ \ \ \ \ \ ,\ \ \ //\ \ exclude\ '/tests/expected'\ directory\ \ }
\DoxyCodeLine{\ \ excludeFilter:\ "{}**/tests/**/*.js"{}\ ,\ \ \ //\ \ exclude\ all\ js\ files\ in\ '/tests'\ directory\ and\ subdirectories\ \ }
\DoxyCodeLine{}
\DoxyCodeLine{\ \ includeFilter:\ "{}*.js,*.yml"{}\ \ \ \ \ \ \ ,\ \ \ //\ \ include\ js\ and\ yaml\ files\ \ }
\DoxyCodeLine{\ \ includeFilter:\ "{}/tests/**/*.js"{}\ \ \ ,\ \ \ //\ \ include\ all\ js\ files\ in\ '/tests'\ directory\ and\ subdirectories\ \ }
\DoxyCodeLine{\ \ includeFilter:\ "{}**/tests/**/*.ts"{}\ \ \ \ \ //\ \ include\ all\ js\ files\ in\ '/tests'\ directory\ and\ subdirectories\ \ }
\DoxyCodeLine{\}}

\end{DoxyCode}
 This behavior can be changed with Glob filter extensions.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3805}{}\doxysubsection{\texorpdfstring{Symbolic links}{Symbolic links}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3805}
Unless {\ttfamily compare\+Symlink} option is used, symbolic links are resolved and any comparison is applied to the file/directory they point to.

Circular loops are handled by breaking the loop as soon as it is detected.

Version {\ttfamily 1.\+x} treats broken links as {\ttfamily ENOENT\+: no such file or directory}. ~\newline
 Since {\ttfamily 2.\+0} they are treated as a special type of entry -\/ {\ttfamily broken-\/link} -\/ and are available as stats ({\ttfamily total\+Broken\+Links}, {\ttfamily distinct\+Broken\+Links}, ...).

Using {\ttfamily compare\+Symlink} option causes {\ttfamily dircompare} to check symlink values for equality. In this mode two entries with identical names are considered different if
\begin{DoxyItemize}
\item one is symlink, the other is not
\item both are symlinks but point to different locations
\end{DoxyItemize}

These rules are applied in addition to the other comparison modes; ie. by content, by size...

If entries are different because of symlinks, {\ttfamily reason} will be {\ttfamily different-\/symlink}. Also statistics summarize differences caused by symbolic links.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3806}{}\doxysubsection{\texorpdfstring{Handling permission denied errors}{Handling permission denied errors}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3806}
Unreadable files or directories are normally reported as errors. The comparison will be interrupted with an {\ttfamily EACCES} exception. This behavior can be altered with \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#handlePermissionDenied}{\texttt{ Options.\+handle\+Permission\+Denied}}.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3807}{}\doxysection{\texorpdfstring{Extension points}{Extension points}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3807}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3808}{}\doxysubsection{\texorpdfstring{File content comparators}{File content comparators}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3808}
By default file content is binary compared. As of version 1.\+5.\+0 custom file comparison handlers may be specified.

Custom handlers are specified by {\ttfamily compare\+File\+Sync} and {\ttfamily compare\+File\+Async} options which correspond to {\ttfamily dircompare.\+compare\+Sync()} or {\ttfamily dircompare.\+compare()} methods.

A couple of handlers are included in the library\+:
\begin{DoxyItemize}
\item binary sync compare -\/ {\ttfamily dircompare.\+file\+Compare\+Handlers.\+default\+File\+Compare.\+compare\+Sync}
\item binary async compare -\/ {\ttfamily dircompare.\+file\+Compare\+Handlers.\+default\+File\+Compare.\+compare\+Async}
\item text sync compare -\/ {\ttfamily dircompare.\+file\+Compare\+Handlers.\+line\+Based\+File\+Compare.\+compare\+Sync}
\item text async compare -\/ {\ttfamily dircompare.\+file\+Compare\+Handlers.\+line\+Based\+File\+Compare.\+compare\+Async}
\end{DoxyItemize}

Use \href{https://github.com/gliviu/dir-compare/blob/master/src/FileCompareHandler/default/defaultFileCompare.ts}{\texttt{ default\+File\+Compare}} as an example to create your own.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3809}{}\doxysubsubsection{\texorpdfstring{Ignore line endings and white spaces}{Ignore line endings and white spaces}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3809}
Line based comparator can be used to ignore line ending and white space differences. 
\begin{DoxyCode}{0}
\DoxyCodeLine{const\ dircompare\ =\ require('dir-\/compare');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options\ =\ \{}
\DoxyCodeLine{\ \ compareContent:\ true,}
\DoxyCodeLine{\ \ compareFileSync:\ dircompare.fileCompareHandlers.lineBasedFileCompare.compareSync,}
\DoxyCodeLine{\ \ compareFileAsync:\ dircompare.fileCompareHandlers.lineBasedFileCompare.compareAsync,}
\DoxyCodeLine{\ \ ignoreLineEnding:\ true,\ \ \ \ \ \ //\ Ignore\ crlf/lf\ line\ ending\ differences}
\DoxyCodeLine{\ \ ignoreWhiteSpaces:\ true,\ \ \ \ \ //\ Ignore\ white\ spaces\ at\ the\ beginning\ and\ end\ of\ a\ line\ (similar\ to\ 'diff\ -\/b')}
\DoxyCodeLine{\ \ ignoreAllWhiteSpaces:\ true,\ \ //\ Ignore\ all\ white\ space\ differences\ (similar\ to\ 'diff\ -\/w')}
\DoxyCodeLine{\ \ ignoreEmptyLines:\ true\ \ \ \ \ \ \ //\ Ignores\ differences\ caused\ by\ empty\ lines\ (similar\ to\ 'diff\ -\/B')}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ path1\ =\ '...';}
\DoxyCodeLine{const\ path2\ =\ '...';}
\DoxyCodeLine{const\ res\ =\ dircompare.compareSync(path1,\ path2,\ options);}
\DoxyCodeLine{console.log(res)}
\DoxyCodeLine{}
\DoxyCodeLine{dircompare.compare(path1,\ path2,\ options)}
\DoxyCodeLine{.then(res\ =>\ console.log(res))}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3810}{}\doxysubsection{\texorpdfstring{Glob filter}{Glob filter}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3810}
The current implementation of the glob filter uses minimatch and is based on include\+Filter and exclude\+Filter options. While it is meant to fit most use cases, \href{https://github.com/gliviu/dir-compare/issues/67}{\texttt{ some scenarios}} are not addressed.

Use \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#filterHandler}{\texttt{ filter\+Handler option}} to alter this behavior.

The following example demonstrates how to include only files with a specific extension in our comparison. 
\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ Options,\ compareSync,\ Result,\ FilterHandler,\ Entry,\ filterHandlers\ \}\ from\ 'dir-\/compare'}
\DoxyCodeLine{import\ \{\ extname\ \}\ from\ 'path'}
\DoxyCodeLine{}
\DoxyCodeLine{var\ d1\ =\ '...';}
\DoxyCodeLine{var\ d2\ =\ '...';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ filterByfileExtension:\ FilterHandler\ =\ (entry:\ Entry,\ relativePath:\ string,\ options:\ Options):\ boolean\ =>\ \{}
\DoxyCodeLine{\ \ if\ (!options.fileExtension)\ \{}
\DoxyCodeLine{\ \ \ \ //\ Fallback\ on\ the\ default\ 'minimatch'\ implementation}
\DoxyCodeLine{\ \ \ \ return\ filterHandlers.defaultFilterHandler(entry,\ relativePath,\ options)}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ return\ options.fileExtension\ ===\ extname(entry.name)}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options:\ Options\ =\ \{}
\DoxyCodeLine{\ \ compareSize:\ true,}
\DoxyCodeLine{\ \ fileExtension:\ '.txt',}
\DoxyCodeLine{\ \ filterHandler:\ filterByfileExtension}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ res:\ Result\ =\ compareSync(d1,\ d2,\ options)}

\end{DoxyCode}


For reference, the default minimatch filter can be found in \href{https://github.com/gliviu/dir-compare/blob/master/src/FilterHandler/defaultFilterHandler.ts}{\texttt{ default\+Filter\+Handler}} which is exposed by \href{https://gliviu.github.io/dc-api/variables/filterHandlers.html}{\texttt{ filter\+Handlers property}}.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3811}{}\doxysubsubsection{\texorpdfstring{Implement .gitignore filter}{Implement .gitignore filter}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3811}
\href{https://www.npmjs.com/package/globby}{\texttt{ Globby}} library provides the functionality to parse and apply {\ttfamily .gitignore} rules. This is a \href{https://github.com/gliviu/dir-compare/blob/master/test/extended/gitignoreSupport/gitignoreFilter.ts}{\texttt{ sample implementation}} that uses globby and dir-\/compare filter extension.

Usage\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ Options,\ compareSync,\ Result\}\ from\ 'dir-\/compare'}
\DoxyCodeLine{import\ \{\ getGitignoreFilter\ \}\ from\ './gitignoreFilter.js'}
\DoxyCodeLine{}
\DoxyCodeLine{var\ d1\ =\ '...';}
\DoxyCodeLine{var\ d2\ =\ '...';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options:\ Options\ =\ \{}
\DoxyCodeLine{\ \ compareSize:\ true,}
\DoxyCodeLine{\ \ filterHandler:\ getGitignoreFilter(d1,\ d2),}
\DoxyCodeLine{\ \ includeFilter:\ '*.js'\ \ //\ if\ present,\ regular\ filters\ are\ applied\ after\ .gitignore\ rules.}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ res:\ Result\ =\ compareSync(d1,\ d2,\ options)}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3812}{}\doxysubsection{\texorpdfstring{Name comparators}{Name comparators}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3812}
If \href{https://github.com/gliviu/dir-compare/blob/master/src/NameCompare/defaultNameCompare.ts}{\texttt{ default}} name comparison is not enough, custom behavior can be specified with \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#compareNameHandler}{\texttt{ compare\+Name\+Handler}} option. Following example adds the possibility to ignore file extensions. 
\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ Options,\ compare\ \}\ from\ 'dir-\/compare'}
\DoxyCodeLine{import\ path\ from\ 'path'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options:\ Options\ =\ \{}
\DoxyCodeLine{\ \ \ \ compareSize:\ false,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ compare\ only\ name\ by\ disabling\ size\ and\ content\ criteria}
\DoxyCodeLine{\ \ \ \ compareContent:\ false,}
\DoxyCodeLine{\ \ \ \ compareNameHandler:\ customNameCompare,\ //\ new\ name\ comparator\ used\ to\ ignore\ extensions}
\DoxyCodeLine{\ \ \ \ ignoreExtension:\ true,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ supported\ by\ the\ custom\ name\ compare\ below}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{function\ customNameCompare(name1:\ string,\ name2:\ string,\ options:\ Options)\ \{}
\DoxyCodeLine{\ \ \ \ if\ (options.ignoreCase)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ name1\ =\ name1.toLowerCase()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ name2\ =\ name2.toLowerCase()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ if\ (options.ignoreExtension)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ name1\ =\ path.basename(name1,\ path.extname(name1))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ name2\ =\ path.basename(name2,\ path.extname(name2))}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ return\ ((name1\ ===\ name2)\ ?\ 0\ :\ ((name1\ >\ name2)\ ?\ 1\ :\ -\/1))}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ path1\ =\ '/tmp/a';}
\DoxyCodeLine{const\ path2\ =\ '/tmp/b';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ res\ =\ compare(path1,\ path2,\ options).then(res\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(`Same:\ \$\{res.same\}`)}
\DoxyCodeLine{\ \ \ \ if\ (!res.diffSet)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ res.diffSet.forEach(dif\ =>\ console.log(`\$\{dif.name1\}\ \$\{dif.name2\}\ \$\{dif.state\}`))}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Outputs}
\DoxyCodeLine{//\ icon.svg\ icon.png\ equal}
\DoxyCodeLine{//\ logo.svg\ logo.jpg\ equal}

\end{DoxyCode}
 For reference, the default name comparator can be found in \href{https://github.com/gliviu/dir-compare/blob/master/src/NameCompare/defaultNameCompare.ts}{\texttt{ default\+Name\+Compare}} which is exposed by \href{https://gliviu.github.io/dc-api/variables/compareNameHandlers.html}{\texttt{ compare\+Name\+Handlers property}}.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3813}{}\doxysubsection{\texorpdfstring{Result builder}{Result builder}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3813}
\href{https://gliviu.github.io/dc-api/interfaces/Options.html\#resultBuilder}{\texttt{ Result builder}} is called for each pair of entries encountered during comparison. Its purpose is to append entries in {\ttfamily diff\+Set} and eventually update {\ttfamily statistics} object with new stats.

If needed it can be replaced with custom implementation.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ dircompare\ =\ require("{}dircompare"{})}
\DoxyCodeLine{}
\DoxyCodeLine{const\ customResultBuilder\ =\ function\ (entry1,\ entry2,\ state,\ level,\ relativePath,\ options,\ statistics,\ diffSet,\ reason)\ \{}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options\ =\ \{}
\DoxyCodeLine{\ \ \ \ compareSize:\ true,}
\DoxyCodeLine{\ \ \ \ resultBuilder:\ customResultBuilder}
\DoxyCodeLine{\}}
\DoxyCodeLine{const\ res\ =\ dircompare.compareSync('...',\ '...',\ options)}

\end{DoxyCode}


The \href{https://github.com/gliviu/dir-compare/blob/master/src/ResultBuilder/defaultResultBuilderCallback.ts}{\texttt{ default}} builder can be used as an example.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3814}{}\doxysection{\texorpdfstring{UI tools}{UI tools}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3814}

\begin{DoxyItemize}
\item \href{https://github.com/gliviu/dir-compare-cli}{\texttt{ dir-\/compare-\/cli}}
\item \href{https://marketplace.visualstudio.com/items?itemName=moshfeu.compare-folders}{\texttt{ Visual Studio Code -\/ Compare Folders}}
\end{DoxyItemize}\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3815}{}\doxysection{\texorpdfstring{Changelog}{Changelog}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_28b6d3e6f19f0910b7a617220be949f36_autotoc_md3815}

\begin{DoxyItemize}
\item v4.\+2.\+0
\begin{DoxyItemize}
\item Updated dependencies
\item Increased test coverage
\end{DoxyItemize}
\item v4.\+1.\+0
\begin{DoxyItemize}
\item Possibility to alter the default Glob filter behavior
\item Ignore files and directories according to .gitignore rules.
\item New \href{https://gliviu.github.io/dc-api/interfaces/Entry.html\#origin}{\texttt{ origin}} field in Entry to distinguish between the left or right directory
\item Improved api documentation
\end{DoxyItemize}
\item v4.\+0.\+0
\begin{DoxyItemize}
\item Switched project to typescript
\item \href{https://gliviu.github.io/dc-api/functions/compare.html}{\texttt{ Async comparator}} improvements when comparing large directory structures
\begin{DoxyItemize}
\item Heap usage has decreased 3x compared to previous version
\item Works 2x faster when comparing by content
\item Better concurrency. UI apps will be more responsive while comparison is ongoing
\end{DoxyItemize}
\end{DoxyItemize}

Breaking changes\+:
\begin{DoxyItemize}
\item Using this library to compare two files will ignore the name of the files. More details in \href{https://github.com/gliviu/dir-compare/issues/48}{\texttt{ \#48}}
\item Removed support for node 8, 9
\end{DoxyItemize}
\item v3.\+3.\+0 Added {\ttfamily skip\+Empty\+Dirs} option
\item v3.\+2.\+0 Handle permission denied errors
\item v3.\+1.\+0 Added {\ttfamily ignore\+All\+White\+Spaces} and {\ttfamily ignore\+Empty\+Lines} options
\item v3.\+0.\+0 Moved CLI component into separate project \href{https://github.com/gliviu/dir-compare-cli}{\texttt{ dir-\/compare-\/cli}}
\item v2.\+4.\+0 \href{https://gliviu.github.io/dc-api/interfaces/Options.html\#compareNameHandler}{\texttt{ New option}} to customize file/folder name comparison
\item v2.\+3.\+0 Fixes
\item v2.\+1.\+0 Removed \href{https://github.com/petkaantonov/bluebird/\#\%EF\%B8\%8Fnote\%EF\%B8\%8F}{\texttt{ bluebird}} dependency
\item v2.\+0.\+0
\begin{DoxyItemize}
\item New option to compare symlinks.
\item New field indicating reason for two entries being distinct.
\item Improved command line output format.
\item Tests are no longer part of published package.
\item Generated \href{https://gliviu.github.io/dc-api}{\texttt{ Api}} documentation.
\end{DoxyItemize}

Breaking changes\+:
\begin{DoxyItemize}
\item Broken links are no longer treated as errors. As a result there are new statistics (left\+Broken\+Links, right\+Broken\+Links, distinct\+Broken\+Links, total\+Broken\+Links) and new entry type -\/ broken-\/link. Details in Symbolic links.
\item Typescript correction\+: new interface {\ttfamily Result} replaced {\ttfamily Statistics}.
\end{DoxyItemize}
\item v1.\+8.\+0
\begin{DoxyItemize}
\item globstar patterns
\item typescript corrections
\item removed support for node 0.\+11, 0.\+12, iojs
\end{DoxyItemize}
\item v1.\+7.\+0 performance improvements
\item v1.\+6.\+0 typescript support
\item v1.\+5.\+0 added option to ignore line endings and white space differences
\item v1.\+3.\+0 added date tolerance option
\item v1.\+2.\+0 added compare by date option
\item v1.\+1.\+0
\begin{DoxyItemize}
\item detect symlink loops
\item improved color scheme for command line utility
\end{DoxyItemize}
\item v1.\+0.\+0
\begin{DoxyItemize}
\item asynchronous comparison
\item new library options\+: no\+Diff\+Set, result\+Builder
\item new statistics\+: distinct\+Files, equal\+Files, left\+Files, right\+Files, distinct\+Dirs, equal\+Dirs, left\+Dirs, right\+Dirs
\item new --async command line option
\item Fix for \href{https://github.com/tj/commander.js/issues/125}{\texttt{ https\+://github.\+com/tj/commander.\+js/issues/125}}
\end{DoxyItemize}
\item v0.\+0.\+3 Fix file ordering issue for newer node versions 
\end{DoxyItemize}