\chapter{Class property and descriptor}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64}\index{Class property and descriptor@{Class property and descriptor}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7745}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7745}%


Property descriptor for use with {\ttfamily Napi\+::\+Object\+Wrap\+::\+Define\+Class()}. This is different from the standalone {\ttfamily \doxylink{class_napi_1_1_property_descriptor}{Napi\+::\+Property\+Descriptor}} because it is specific to each {\ttfamily \doxylink{class_napi_1_1_object_wrap}{Napi\+::\+Object\+Wrap}\texorpdfstring{$<$}{<}T\texorpdfstring{$>$}{>}} subclass. This prevents using descriptors from a different class when defining a new class (preventing the callbacks from having incorrect {\ttfamily this} pointers).\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7746}{}\doxysection{\texorpdfstring{Example}{Example}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7746}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <napi.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }Example\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_napi_1_1_object_wrap}{Napi::ObjectWrap}}<Example>\ \{}
\DoxyCodeLine{\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\ Init(\mbox{\hyperlink{class_napi_1_1_env}{Napi::Env}}\ env,\ \mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\ exports);}
\DoxyCodeLine{\ \ \ \ Example(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_callback_info}{Napi::CallbackInfo}}\ \&info);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_napi_1_1_function_reference}{Napi::FunctionReference}}\ constructor;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ \_value;}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_value}{Napi::Value}}\ GetValue(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_callback_info}{Napi::CallbackInfo}}\ \&info);}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_value}{Napi::Value}}\ SetValue(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_callback_info}{Napi::CallbackInfo}}\ \&info);}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\ Example::Init(\mbox{\hyperlink{class_napi_1_1_env}{Napi::Env}}\ env,\ \mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\ exports)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_function}{Napi::Function}}\ func\ =\ DefineClass(env,\ \textcolor{stringliteral}{"{}Example"{}},\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Register\ a\ class\ instance\ accessor\ with\ getter\ and\ setter\ functions.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ InstanceAccessor(\textcolor{stringliteral}{"{}value"{}},\ \&Example::GetValue,\ \&Example::SetValue),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ We\ can\ also\ register\ a\ readonly\ accessor\ by\ passing\ nullptr\ as\ the\ setter.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ InstanceAccessor(\textcolor{stringliteral}{"{}readOnlyProp"{}},\ \&Example::GetValue,\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ constructor\ =\ Napi::Persistent(func);}
\DoxyCodeLine{\ \ \ \ constructor.SuppressDestruct();}
\DoxyCodeLine{\ \ \ \ exports.\mbox{\hyperlink{class_napi_1_1_object_a96eae03d64989f9a893897b37f9eb1b8}{Set}}(\textcolor{stringliteral}{"{}Example"{}},\ func);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ exports;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{Example::Example(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_callback_info}{Napi::CallbackInfo}}\ \&info)\ :\ \mbox{\hyperlink{namespace_napi}{Napi}}::ObjectWrap<Example>(info)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_env}{Napi::Env}}\ env\ =\ info.Env();}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ ...}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_number}{Napi::Number}}\ value\ =\ info[0].As<\mbox{\hyperlink{class_napi_1_1_number}{Napi::Number}}>();}
\DoxyCodeLine{\ \ \ \ this-\/>\_value\ =\ value.\mbox{\hyperlink{class_napi_1_1_number_a2ba41b7408f886aada8d8f36282dd001}{DoubleValue}}();}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{class_napi_1_1_function_reference}{Napi::FunctionReference}}\ Example::constructor;}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{class_napi_1_1_value}{Napi::Value}}\ Example::GetValue(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_callback_info}{Napi::CallbackInfo}}\ \&info)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_env}{Napi::Env}}\ env\ =\ info.Env();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_napi_1_1_number_aeaf0a68807d700eb5b765e24025af147}{Napi::Number::New}}(env,\ this-\/>\_value);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{class_napi_1_1_value}{Napi::Value}}\ Example::SetValue(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_callback_info}{Napi::CallbackInfo}}\ \&info,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_napi_1_1_value}{Napi::Value}}\ \&value)\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_env}{Napi::Env}}\ env\ =\ info.Env();}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ ...}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_napi_1_1_number}{Napi::Number}}\ arg\ =\ value.\mbox{\hyperlink{class_napi_1_1_value_a9c1a9c4eca9617b0aafbe311c946982a}{As}}<\mbox{\hyperlink{class_napi_1_1_number}{Napi::Number}}>();}
\DoxyCodeLine{\ \ \ \ this-\/>\_value\ =\ arg.\mbox{\hyperlink{class_napi_1_1_number_a2ba41b7408f886aada8d8f36282dd001}{DoubleValue}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ this-\/>GetValue(info);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Initialize\ native\ add-\/on}}
\DoxyCodeLine{\mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\ Init\ (\mbox{\hyperlink{class_napi_1_1_env}{Napi::Env}}\ env,\ \mbox{\hyperlink{class_napi_1_1_object}{Napi::Object}}\ exports)\ \{}
\DoxyCodeLine{\ \ \ \ Example::Init(env,\ exports);}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ exports;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Register\ and\ initialize\ native\ add-\/on}}
\DoxyCodeLine{NODE\_API\_MODULE(NODE\_GYP\_MODULE\_NAME,\ Init)}

\end{DoxyCode}


The above code can be used from Java\+Script as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{'use\ strict';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ \{\ Example\ \}\ =\ require('bindings')('addon');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ example\ =\ new\ Example(11);}
\DoxyCodeLine{console.log(example.value);}
\DoxyCodeLine{//\ It\ prints\ 11}
\DoxyCodeLine{example.value\ =\ 19;}
\DoxyCodeLine{console.log(example.value);}
\DoxyCodeLine{//\ It\ prints\ 19}
\DoxyCodeLine{example.readOnlyProp\ =\ 500;}
\DoxyCodeLine{console.log(example.readOnlyProp);}
\DoxyCodeLine{//\ Unchanged.\ It\ prints\ 19}

\end{DoxyCode}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7747}{}\doxysection{\texorpdfstring{Methods}{Methods}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7747}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7748}{}\doxysubsection{\texorpdfstring{Constructor}{Constructor}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7748}
Creates new instance of {\ttfamily \doxylink{class_napi_1_1_class_property_descriptor}{Napi\+::\+Class\+Property\+Descriptor}} descriptor object.


\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_napi_1_1_class_property_descriptor}{Napi::ClassPropertyDescriptor}}(\mbox{\hyperlink{structnapi__property__descriptor}{napi\_property\_descriptor}}\ desc)\ :\ \_desc(desc)\ \{\}}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\ttfamily \mbox{[}in\mbox{]} desc}\+: The {\ttfamily \doxylink{structnapi__property__descriptor}{napi\+\_\+property\+\_\+descriptor}}
\end{DoxyItemize}

Returns new instance of {\ttfamily \doxylink{class_napi_1_1_class_property_descriptor}{Napi\+::\+Class\+Property\+Descriptor}} that is used as property descriptor inside the {\ttfamily \doxylink{class_napi_1_1_object_wrap}{Napi\+::\+Object\+Wrap}\texorpdfstring{$<$}{<}T\texorpdfstring{$>$}{>}} class.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7749}{}\doxysubsection{\texorpdfstring{Operator}{Operator}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_229e0a519ea1c7b653b171322156b3a64_autotoc_md7749}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{operator}\ \mbox{\hyperlink{structnapi__property__descriptor}{napi\_property\_descriptor}}\&()\ \{\ \textcolor{keywordflow}{return}\ \_desc;\ \}}

\end{DoxyCode}


Returns the original N-\/\+API {\ttfamily \doxylink{structnapi__property__descriptor}{napi\+\_\+property\+\_\+descriptor}} wrapped inside the {\ttfamily \doxylink{class_napi_1_1_class_property_descriptor}{Napi\+::\+Class\+Property\+Descriptor}}


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{operator}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structnapi__property__descriptor}{napi\_property\_descriptor}}\&()\ \textcolor{keyword}{const}\ \{\ \textcolor{keywordflow}{return}\ \_desc;\ \}}

\end{DoxyCode}


Returns the original N-\/\+API {\ttfamily \doxylink{structnapi__property__descriptor}{napi\+\_\+property\+\_\+descriptor}} wrapped inside the {\ttfamily \doxylink{class_napi_1_1_class_property_descriptor}{Napi\+::\+Class\+Property\+Descriptor}} 