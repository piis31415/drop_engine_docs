\chapter{iconv-\/corefoundation}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52}{}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52}\index{iconv-\/corefoundation@{iconv-\/corefoundation}}
\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5894}%
\Hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5894}%


A Node.\+js library for character set conversion (like \href{https://www.npmjs.com/package/iconv-lite}{\texttt{ iconv-\/lite}}), using the mac\+OS “\+Core Foundation” API.

This package contains a pre-\/compiled native add-\/on for Node.\+js, using N-\/\+API. See “\+System Requirements” below for details.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5895}{}\doxysection{\texorpdfstring{Why?}{Why?}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5895}
{\ttfamily Core\+Foundation.\+framework} contains, to my knowledge, the only character set converter supporting {\itshape all} of the legacy Macintosh scripts, including non-\/\+Apple ones (such as Mac OS Inuit) and double-\/byte scripts (such as Mac OS Japanese). If your Node.\+js program needs to handle these, and runs only on mac\+OS, this package may be your best bet.

This is not intended for general character set conversion needs. Use iconv-\/lite for that; it\textquotesingle{}s not limited to a single platform, it doesn\textquotesingle{}t have any native code, and it\textquotesingle{}s probably faster. This package is for when you specifically need to use Core Foundation\textquotesingle{}s character set conversion facilities.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5896}{}\doxysection{\texorpdfstring{License}{License}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5896}
iconv-\/corefoundation is provided under the terms of the MIT license. You can find the text of the MIT license in the \mbox{[}LICENSE\mbox{]}(LICENSE) file.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5897}{}\doxysection{\texorpdfstring{System Requirements}{System Requirements}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5897}
\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5898}{}\doxysubsection{\texorpdfstring{Using}{Using}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5898}
This package requires mac\+OS, because it uses a mac\+OS platform API (the Core Foundation framework) to do the actual work.

The native code portion of this package requires mac\+OS 10.\+10 or newer.

This package requires \href{https://nodejs.org/dist/latest-v12.x/docs/api/n-api.html}{\texttt{ N-\/\+API}} version 3, which is available in Node.\+js versions 8.\+11.\+2, 10, and newer (but not 9).\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5899}{}\doxysubsection{\texorpdfstring{Building}{Building}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5899}
Building this package isn\textquotesingle{}t required to use it. Because this package only works on one platform, the native code is pre-\/compiled.

In addition to the system requirements for using this package, building it also requires the Xcode command-\/line tools to be installed. If they aren\textquotesingle{}t, a window should appear offering to install them. If that doesn\textquotesingle{}t work, run the command {\ttfamily xcode-\/select -\/-\/install} to explicitly install them.

GCC does not seem to work; it fails to compile Core Foundation header files.\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5900}{}\doxysection{\texorpdfstring{API}{API}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5900}
API documentation is in the {\ttfamily docs} folder.

The API for this package centers around the {\ttfamily String\+Encoding} class. Each instance of this class represents a character encoding, such as ASCII or Mac OS Roman. To get a {\ttfamily String\+Encoding} instance, call one of the static methods starting with {\ttfamily by}, such as {\ttfamily by\+CFString\+Encoding}. ({\ttfamily String\+Encoding} may not be constructed directly. It is instantiated only by native code.) Instances of {\ttfamily String\+Encoding} have several informational properties (such as {\ttfamily iana\+Char\+Set\+Name}, the corresponding IANA character set name) and the methods {\ttfamily encode} and {\ttfamily decode}.

There are also several top-\/level functions exported by this package, like {\ttfamily transcode} (which converts one buffer to another, without creating a Java\+Script string in between) and {\ttfamily encode\+Smallest} (which encodes a string in the byte-\/wise smallest available encoding).\hypertarget{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5901}{}\doxysection{\texorpdfstring{Caveats}{Caveats}}\label{md__2_users_2hello_2_documents_2_git_hub_2finalproject-engine-drop-table-engines_2_engine_2src_23c4538509234759ffb019dd01adc6d52_autotoc_md5901}
I have not benchmarked this code. I do not expect it to be fast. Encoding and decoding strings involves copying the string at least once, which is a fairly expensive operation, especially with large strings.

There is no streaming API. Core Foundation does not seem to have any notion of streaming character set conversion, so neither does this package. 